// All of the code related to the view of this Outlet application here.
var News = {
  find_maps: function(maker_tag, maker_user) {
    Maker.find_maps(maker_tag, maker_user, "News.on_search_results")
  },  
  on_search_results: function(jsonData) {
    var jsonMapData = jsonData.reject(function(e){return e.type != "Map"})
    var results = jsonMapData.sortBy(function(s) {return s.indexed_tags})
    var explore_list = new PaginatedMapList('explore', results, {
                            title_format: "#{title}",
                            per_page: 8 })
    Maker.load_map('maker_map', results[0].pk, {
      afterFinish : function(){
                          Maker.resize_when_ready()
                          Event.observe(window, 'resize', Maker.resize_map_to_fit) }  })
  }
}
